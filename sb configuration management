5. Configuration Management in Spring Boot
Definition:
Configuration Management in Spring Boot is the process of externalizing application settings (like DB URL, ports, credentials, feature flags) so the same codebase can run in different environments (dev, test, prod) without changes.

1. application.properties vs application.yml
Definition:
These files define application configuration loaded automatically by Spring Boot at startup.
application.properties
Key-Value based format
server.port=8081
spring.datasource.url=jdbc:mysql://localhost:3306/testdb
spring.datasource.username=root
spring.datasource.password=pass

application.yml
YAML (hierarchical) format

server:
  port: 8081

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/testdb
    username: root
    password: pass

Interview Tip:

üëâ YAML is better for complex configs, properties is simpler.

Output:
Tomcat started on port(s): 8081

2. Externalized Configuration
Definition:

Externalized Configuration allows config values to be outside the JAR, so changes don‚Äôt require rebuilding the application.

Supported Sources (Priority Order ‚Äì High to Low):

Command-line arguments

Environment variables

application-{profile}.yml

application.yml / properties

Example: External config file

Run JAR with external file:

java -jar app.jar --spring.config.location=/opt/config/application.yml

Output:
Loaded configuration from /opt/config/application.yml

Why Important?

Required in Docker / Kubernetes

Supports CI/CD pipelines

No hard-coded secrets

3. Profiles (dev, test, prod)
Definition:

Spring Profiles allow environment-specific configurations.

File Structure:
application.yml
application-dev.yml
application-test.yml
application-prod.yml

Example:
application-dev.yml
server:
  port: 8080

application-prod.yml
server:
  port: 9090

Activate Profile:
Via application.yml
spring:
  profiles:
    active: dev

Via command line
java -jar app.jar --spring.profiles.active=prod

Output:
Active profiles: prod
Tomcat started on port(s): 9090

Interview Tip:

üëâ Profiles are evaluated at startup, not runtime.

4. Command-Line Arguments
Definition:

Values passed during application startup that override all config files.

Example:
java -jar app.jar --server.port=7070

application.yml
server:
  port: 8080

Final Output:
Tomcat started on port(s): 7070

Why Use?

Quick testing

Override prod config temporarily

5. Environment Variables
Definition:

Spring Boot automatically maps OS environment variables to properties.

Naming Rule:
spring.datasource.url
‚Üì
SPRING_DATASOURCE_URL

Linux / Mac:
export SPRING_DATASOURCE_USERNAME=admin

Windows:
set SPRING_DATASOURCE_USERNAME=admin

Usage in application.yml
spring:
  datasource:
    username: ${SPRING_DATASOURCE_USERNAME}

Output:
Connected to DB with user admin

Interview Tip:

üëâ Used heavily in Docker & Kubernetes secrets

6. @ConfigurationProperties
Definition:

Binds grouped configuration values to a POJO.

Example:
application.yml
app:
  name: OrderService
  version: 1.0

Configuration Class
@Component
@ConfigurationProperties(prefix = "app")
public class AppConfig {

    private String name;
    private String version;

    // getters and setters
}

Usage
@Autowired
private AppConfig config;
System.out.println(config.getName());

Output:
OrderService

@Value vs @ConfigurationProperties
| @Value       | @ConfigurationProperties |
| ------------ | ------------------------ |
| Single value | Multiple values          |
| SpEL support | Type-safe                |
| Not scalable | Best practice            |

7. Spring Cloud Config (Basic Overview)
Definition:
Spring Cloud Config provides centralized configuration from a remote Git repository.

Architecture:
Client App ‚Üí Config Server ‚Üí Git Repo

Why Needed?
Microservices
Central config
Runtime refresh support

Example:
Git Repo
order-service.yml

server:
  port: 8085

Client application.yml
spring:
  config:
    import: configserver:http://localhost:8888

Output:
Fetching config from Config Server

Interview Tip:

üëâ Often used with Spring Cloud Bus + Refresh

INTERVIEW QUESTIONS & ANSWERS
Q1. What is externalized configuration?
Answer:
Separating configuration from code so applications can run in different environments without rebuilding.

Q2. Which has higher priority: env variables or application.yml?
Answer:
Environment variables.

Q3. Can we activate multiple profiles?
Answer:
Yes.
spring.profiles.active=dev,qa

Q4. Difference between @Value and @ConfigurationProperties?
Answer:
@Value is for single values; @ConfigurationProperties is type-safe and scalable.

Q5. Where are profiles evaluated?
Answer:
At application startup.

TRICKY INTERVIEW QUESTIONS
Q1. If the same property exists in command-line and application.yml, which one is used?
‚úÖ Command-line argument

Q2. Can Spring Boot read OS env variables automatically?
‚úÖ Yes, without extra configuration.

Q3. Is application.yml mandatory?
‚ùå No. It‚Äôs optional.

Q4. Can profiles be changed at runtime?
‚ùå No (unless using Spring Cloud Refresh)

Q5. Does @ConfigurationProperties support validation?
‚úÖ Yes, using @Validated and @NotNull.

Q6. What happens if YAML indentation is wrong?
‚ùå Application fails to start.
